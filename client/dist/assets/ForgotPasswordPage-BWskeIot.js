import{r as o,A as f,u as g,j as e}from"./index-qWjGYKgz.js";const h=()=>{const[s,c]=o.useState(""),[n,r]=o.useState(null),[i,d]=o.useState(null),{handleForgotPasswordSuccess:u}=o.useContext(f),m=g(),x=async a=>{if(a.preventDefault(),!s){r("Please enter your email");return}try{r(null);const t=await fetch("/api/user/forgot",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s})});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const l=await t.json();console.log(l),l.status==="true"?(d("OTP sent. Redirecting to verification..."),u(s),m("/forgot-verify-otp")):r(l.message||"Failed to send OTP")}catch(t){console.error("Error during password reset:",t),r("An error occurred. Please try again.")}};return e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-[100vh] w-full flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-[280px] py-3 px-4 flex flex-col items-center rounded-xl",children:[e.jsx("h1",{className:"text-black text-xl font-bold mb-4",children:"Forgot Password"}),e.jsxs("form",{onSubmit:x,className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"email",className:"font-semibold text-md",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:s,onChange:a=>c(a.target.value),placeholder:"Type your email",className:"outline-none border-b-[2px]  mb-3 mt-1 text-md rounded-md border-gray-300"}),e.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-500 to-cyan-500 py-[5px] w-full my-4 text-white font-semibold rounded-full",children:"Send OTP"}),n&&e.jsx("p",{className:"text-red-500 text-center",children:n}),i&&e.jsx("p",{className:"text-green-500 text-center",children:i})]})]})})};export{h as default};

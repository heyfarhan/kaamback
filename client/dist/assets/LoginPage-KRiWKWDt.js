import{r as t,A as f,u as h,j as e,L as b}from"./index-qWjGYKgz.js";function w({title:r,titleId:s,...o},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},o),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const y=t.forwardRef(w);function j({title:r,titleId:s,...o},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},o),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const v=t.forwardRef(j),L=()=>{const[r,s]=t.useState(""),[o,n]=t.useState(""),[c,a]=t.useState(null),[d,m]=t.useState(!1),{loginuser:x}=t.useContext(f),p=h(),g=async l=>{if(l.preventDefault(),!r||!o){a("Please enter both email and password");return}try{a(null);const i=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})})).json();console.log(i),i.success===!0?(a("Login Successful"),x(i),p("/")):a(i.message||"Login failed")}catch(u){console.error("Error during login:",u),a("An error occurred during login.")}};return e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-[100vh] w-full flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-[300px] py-3 px-4 flex flex-col items-center rounded-xl",children:[e.jsx("h1",{className:"text-black text-xl font-bold mb-4",children:"Login"}),e.jsxs("form",{onSubmit:g,className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"email",className:"font-semibold text-md",children:"Email Address"}),e.jsx("input",{type:"email",value:r,onChange:l=>s(l.target.value),placeholder:"Type your email",className:"outline-none border-b-[2px] mb-3 mt-1 text-md border-gray-300 rounded-md"}),e.jsx("label",{htmlFor:"password",className:"font-semibold text-md",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",value:o,onChange:l=>n(l.target.value),placeholder:"Type your password",className:"outline-none w-full border-b-[2px] mb-3 rounded-md mt-1 text-md border-gray-300 pr-10"}),e.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute inset-y-0 right-2 top-2 bottom-4 flex items-center",children:d?e.jsx(y,{className:"w-5 h-5 text-gray-400"}):e.jsx(v,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-500 to-cyan-500 py-[5px] w-full mb-2 mt-4 text-white font-semibold rounded-full",children:"Login"}),e.jsx(b,{to:"/forgot-password",className:"text-center text-blue-500 hover:underline",children:"Forgot Password?"}),c&&e.jsx("p",{className:c==="Login Successful"?"text-green-500 text-center":"text-red-500 text-center",children:c})]})]})})};export{L as default};

import{r,A as p,u as h,j as e}from"./index-B9v6D_0a.js";const b=()=>{const[n,c]=r.useState(""),[l,t]=r.useState(null),[i,a]=r.useState(!1),{email:u,handleOtpSuccess:d,redirectPath:f}=r.useContext(p),x=h(),m=async()=>{if(n===""){t("Please enter the OTP");return}try{const o=await(await fetch("api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,otp:n})})).json();console.log("result",o),o.success===!0?(a(!0),t(null),d(o),x(f)):(t("Wrong OTP. Please try again."),a(!1))}catch(s){console.error("Error while verifying OTP",s),t("An error occurred. Please try again.")}};return e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-[100vh] w-full flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-[280px] py-3 px-4 flex flex-col items-center rounded-xl",children:[e.jsx("h1",{className:"font-bold",children:"OTP Verification"}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"otp",className:"font-semibold text-md",children:"Verify OTP"}),e.jsx("input",{type:"text",value:n,onChange:s=>c(s.target.value),placeholder:"Enter OTP sent to your email",className:"outline-none border-b-[2px] mt-1 mb-3 text-md rounded-md border-gray-300"})]}),e.jsx("button",{onClick:m,className:"bg-gradient-to-r from-blue-500 to-cyan-500 py-[5px] w-full mb-8 mt-4 text-white font-semibold rounded-full",children:"Verify OTP"}),i&&e.jsx("p",{className:"text-green-500",children:"Verification Successful"}),l&&e.jsx("p",{className:"text-red-500",children:l})]})})};export{b as default};

import{r as s,A as j,u as N,j as e,L as v}from"./index-B9v6D_0a.js";const C=()=>{const[n,x]=s.useState(""),[a,p]=s.useState(""),[d,h]=s.useState(""),[r,f]=s.useState(""),[c,b]=s.useState(""),[u,l]=s.useState(null),{handleSignupSuccess:g}=s.useContext(j),w=N(),y=async t=>{if(t.preventDefault(),!n||!a||!d||!r||!c){l("Please fill in all fields");return}if(a!==d){l("Passwords do not match");return}if(a.length<8){l("Password must be at least 8 characters long");return}try{const i={name:n,password:a,email:r,dateOfBirth:c};l(null);const o=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);console.log("Response:",o);const m=await o.json();console.log("result",m),m.success===!0?(g(r),w("/otp-verification")):l(m.message||"Email should be unique")}catch(i){console.error("Error while fetching SignUp API",i),l("An error occurred. Please try again.")}};return e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-[100vh] w-full flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-[320px] py-3 px-4 flex flex-col items-center rounded-xl",children:[e.jsx("h1",{className:"text-black text-xl font-bold mb-4",children:"Sign Up"}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"name",className:"font-semibold text-md",children:"Name"}),e.jsx("input",{type:"text",value:n,onChange:t=>x(t.target.value),placeholder:"Type your name",className:"outline-none border-b-[2px] mt-1 rounded-md  mb-3 text-md border-gray-300"})]}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"password",className:"font-semibold text-md",children:"Password"}),e.jsx("input",{type:"password",value:a,onChange:t=>p(t.target.value),placeholder:"Type your password",className:"outline-none border-b-[2px] mt-1 rounded-md mb-3 text-md border-gray-300"})]}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"font-semibold text-md",children:"Confirm Password"}),e.jsx("input",{type:"password",value:d,onChange:t=>h(t.target.value),placeholder:"Confirm your password",className:"outline-none border-b-[2px] mt-1 rounded-md mb-3 text-md border-gray-300"})]}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"email",className:"font-semibold text-md",children:"Email Address"}),e.jsx("input",{type:"email",value:r,onChange:t=>f(t.target.value),placeholder:"Type your email",className:"outline-none border-b-[2px] mt-1 rounded-md mb-3 text-md border-gray-300"})]}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"dob",className:"font-semibold text-md",children:"Date Of Birth"}),e.jsx("input",{type:"date",value:c,onChange:t=>b(t.target.value),placeholder:"YYYY-MM-DD",className:"outline-none border-b-[2px] mt-1 rounded-md mb-3 text-md border-gray-300"})]}),e.jsx("button",{onClick:y,className:"bg-gradient-to-r from-blue-500 to-cyan-500 py-[5px] w-full mb-2 mt-4 text-white font-semibold rounded-full",children:"Register"}),e.jsx(v,{to:"/forgot-password",className:"text-center text-blue-500 mb-3 hover:underline",children:"Already have account?"}),u&&e.jsx("p",{className:"text-red-500",children:u})]})})};export{C as default};

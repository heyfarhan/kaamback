import{r as s,A as p,u as h,j as e}from"./index-qWjGYKgz.js";const b=()=>{const[o,i]=s.useState(""),[a,d]=s.useState(""),[n,r]=s.useState(null),[u,c]=s.useState(!1),{handleOtpSuccessForForgotPassword:m}=s.useContext(p),x=h(),f=async()=>{if(o===""){r("Please enter the OTP");return}try{const l=await(await fetch("/api/user/forgot-verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:a,otp:o})})).json();console.log("result",l),l.status==="true"?(c(!0),r(null),m(l),x("/set-password")):(r("Wrong OTP. Please try again."),c(!1))}catch(t){console.error("Error while verifying OTP",t),r("An error occurred. Please try again.")}};return e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-[100vh] w-full flex justify-center items-center",children:e.jsxs("div",{className:"bg-white w-[280px] py-3 px-4 flex flex-col items-center rounded-xl",children:[e.jsx("h1",{className:"font-bold text-center mb-5",children:"Forgot Password OTP Verification"}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"otp",className:"font-semibold text-md",children:"Email Address"}),e.jsx("input",{type:"text",value:a,onChange:t=>d(t.target.value),placeholder:"Enter your email",className:"outline-none border-b-[2px] mt-1 mb-3 text-md rounded-md border-gray-300"})]}),e.jsxs("section",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"otp",className:"font-semibold text-md",children:"Verify OTP"}),e.jsx("input",{type:"text",value:o,onChange:t=>i(t.target.value),placeholder:"Enter OTP sent to your email",className:"outline-none border-b-[2px] mt-1 mb-3 text-md rounded-md border-gray-300"})]}),e.jsx("button",{onClick:f,className:"bg-gradient-to-r from-blue-500 to-cyan-500 py-[5px] w-full mb-8 mt-4 text-white font-semibold rounded-full",children:"Verify OTP"}),u&&e.jsx("p",{className:"text-green-500",children:"Verification Successful"}),n&&e.jsx("p",{className:"text-red-500",children:n})]})})};export{b as default};
